# 多线程并行运算 PAR

PAR 语句目的是进行并行运算，以最大化利用硬件资源，提升计算效率。

```sql
    GET # SELECT id, name FROM students;
    PAR # RUN PQL '/sql/test.sql';
```

PAR 语句目前只能支持 RUN 语句，其他语句以后看使用情况添加。主要逻辑如下：

* GET 语句用于获取数据并将数据保存在“管道”中。
* PAR 语句启动多个线程，线程数据根据当前机器的 CPU 线程数确定。
* 每个线程都执行 RUN 语句，并且从“管道”中获取一行数据，以参数的形式传递给 RUN 语句的命令。
* 每个线程执行完一条 RUN 语句后，休息`10`毫秒，然后继续检查“管道”中是否还有数据。如果有数据则继续执行，如果没有数据则退出线程。
* 所以线程退出后继续向下执行。


---
参考链接

* [将数据保存在缓冲区 GET 语句](/pql/get.md)
* [运行文件和命令](/pql/run.md)