# 管理命令模板

“命令模板”可以理解为程序中的函数，根据传递的参数不同，执行逻辑和返回的结果也不同。

## 命令模板

命令模板的构成如下：

* 模板名称，建议使用一个清晰易读的名字，需要在配置调度的[工作流](/keeper/dag.md)时使用。
* 模板说明或描述。
* 模板类型，可选 PQL、Shell 和 Python 三种类型。类型确定后不可修改。
* 模板逻辑，由 PQL、Shell 或 Python 编写，在 Shell 和 Python 中，也支持嵌入式 PQL 控制逻辑。

模板列表搜索支持搜索模板名称和模板类型，如关键词为`shell`，则显示所有`Shell`类型的命令模板。

关于命令模板的更多信息，请参阅 [Keeper 命令模板](/keeper/command-template.md)。

## 模板参数

模板参数是决定模板逻辑最终结果的必要条件，正因为参数不同，才能让模板在运行时产生不同的逻辑。每个模板可以有一个或多个参数，每个参数有以下几个部分构成：

* 参数名称，是在模板逻辑中使用的变量名或参数名，由英文字母、数字和下划线组成，如`connection_name`。
* 参数类型，决定在配置模板参数时的输入方式和在模板逻辑中将参数作为变量使用时的类型，可选`TEXT`、`INTEGER`、`DECIMAL`、`DATETIME`、`BOOLEAN`、`BOOLEAN`、`SQL`、`ARRAY`、`ROW`、`TABLE`、`REGEX`、`DATASET`等。
* 参数值，可设置参数的默认值或选项列表。选项列表支持查询字符串`name=Tom&age=18`或 Json 对象格式`{ "name": "Tom", "age": 18 }`，如果设置为选项列表，在命令编辑页面会显示为下拉选择框或选择按钮。
* 参数的简要标题。
* 参数的详细描述。
* 参数必须填写时但为空时的提示信息。

参数设置会在设置工作流时如果选择了命令模板，则不需要再输入命令或脚本，而是改为输入模板需要的参数，这些参数转换成相应的输入方式和提示信息。

---
参考链接 

* [Keeper 命令模板](/keeper/command-template.md)
* [keeper 工作流](/keeper/dag.md)