# 节点任务统计

任务统计指的是与当前节点相关的所有任务实例的数量统计，主要包括异常任务统计、执行任务统计、完成任务统计、创建任务统计和检查任务统计，请参考[任务生命周期](/keeper/task.md)中关于任务状态的说明。各个任务数量指标按小时进行汇总。

* 异常任务：非正常状态的任务数，非正常状态包括检查超时、执行异常、执行不正确和执行超时。
* 执行任务：在当前节点上执行的任务数。
* 完成任务：任务达到最终状态为完成，最终状态包括执行成功的任务和所有异常任务。
* 创建任务：创建的任务实例数，在心跳时，负载最低的节点负责创建任务。
* 检查任务：对有前置依赖的任务进行检查的数量。

和节点监控曲线一样，任务统计也分趋势曲线和分布曲线两种。趋势曲线的逻辑为：

* 今天，从今天 0 点到当前时间的的任务数量。
* 昨天，从昨天 0 点到当前时间的任务数量。
* 3 天，从 3 天前 0 点到当前时间的任务数量。
* 7 天，从 7 天前 0 点到当前时间的任务数量。
* 14 天，从 14 天前 0 点到当前时间的任务按天累计数量。
* 30 天，从 30 天前 0 点到当前时间的任务按天累计数量。
* 90 天，从 90 天前 0 点到当前时间的任务按天累计数量。
* 180 天，从 180 天前 0 点到当前时间的任务按天累计数量。
* 1 年，从 1 年前今天 0 点到当前时间的任务按天累计数量。

分布曲线的逻辑搂：

* 今天，今天从 0 点开始的任务数量。
* 昨天，从昨天 0 点到昨天 23 点的任务数量。
* 3 天，从 3 天前 0 点到昨天 23 点的任务小时平均数量。
* 7 天，从 7 天前 0 点到昨天 23 点的任务小时平均数量。
* 14 天，从 14 天前 0 点到昨天 23 点的任务小时平均数量。
* 30 天，从 30 天前 0 点到昨天 23 点的任务小时平均数量。
* 90 天，从 90 天前 0 点到昨天 23 点的任务小时平均数量。
* 180 天，从 180 天前 0 点到昨天 23 点的任务小时平均数量。
* 1 年，从 1 天前的今天 0 点到昨天 23 点的任务小时平均数量。

---
参考链接

* [Keeper 任务实例](/keeper/task.md)
* [Keeper 参数设置](/master/keeper/settings.md)
* [Keeper 节点监控](/master/keeper/node.md)