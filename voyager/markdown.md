# Voyager 支持 Markdown 文件

除了 Html 格式外，Voyager 还支持 Markdown 文档格式的文件，扩展名使用`.md`。Markdown 文件格式是 [轻代码](/cogo/overview.md) 推荐的文件格式。在使用 Markdown 作为页面文件格式时，强烈建议使用[母版页](/voyager/master.md)，以更好的控制整个页面的布局。Voyager 使用 [Marker 类](/voyager/marker.md)将 Markdown 格式转成 HTML 格式，[Marker 类](/voyager/marker.md)也可以在你自己的项目中使用。

Marker 不仅可以对标准的 Markdown 文档格式进行转换，还提供了一些扩展，可以让 Markdown 提供更多的样式和功能。本文主要介绍 Markdown 及其扩展语法。
    
## 标题

使用 1 个到 6 个井号`#`开头并接一个空格的行，表示分别表示 **标题 1** 到 **标题 6**。例如：

```markdown
# 标题 1
## 标题 2
### 标题 3
#### 标题 4
##### 标题 5
###### 标题 6
```

另外在一行文字下方加三个以上等号`=`会自动将上一行转成标题 1。例如：

```markdown
我是标题1
===
```

## 粗体和斜体

使用一个`*`包围的文字表现为斜体，例如 *斜体*。使用两个`*`包围的文字为粗体，例如 **粗体**。如果想同时拥有精体和斜体，可以使用三个星`*`包围，如 ***粗斜体***。

```markdown
*斜体*
**粗体**
***粗斜体***
```

## 行内代码

使用一个反引号 <code>`</code> 包围的文字，一般表强调。

```markdown
HTML 中 INPUT 标签的`size`属性可以控制文本框的宽度。
```

## 文字样式

Markdown 本身没有提供对文字字体、颜色、大小和斜体等样式的控制，Marker 扩展了 Markdown 的语法，以提供文字样式控制功能。

```markdown
/red:红色字体/
/blue,24:蓝色大字/
/32,i,b:粗体和斜体大字/
/green:绿色字体橙色背景:orange/
/Consolas,14:等宽字体/
/180%:设置行高/
/.comment:-- 这是一行注释/
```

如上例所示，语法两个斜杠、样式部分、起分隔作用的冒号`:`、分隔样式的逗号`,`和文本内容组成。可控制的样式有：

* 字体，首字母大写的字体名称，如`Consolas`
* 字体大小，是一个大于`0`的整数数字，`16`为默认大小。
* 字体颜色单词，如`green`、`yellow`等，支持的颜色及对应的编码见下表。
* 字体颜色编码，如红色对应`#FF0000`，详见[颜色编码表](/blog/colors.md)。
* 字体样式字母，支持4个：`b`表示粗体，`i`表示斜体，`u`表示下划线，`s`表示删除线，其中下划线和删除线不能共存。
* 文字背景色，写在文字内容的后面，如`/黄色背景:yellow/`。
* 字体行高使用百分比数字表示，如`200%`
* 样式类 class 使用以`.`开头的类名，如`.comment`。

在这种文字样式定义中，不建议再包含 HTML 标签，因为 HTML 结尾标签中包含`/`，链接中的地址也包含`/`，会发生识别错误。这时可以将文字样式设定分为两段。

```markdown
/gray:这行文字里包含一个<a href="/home">链接</a>，会发生识别错误。/
/gray:这行文字里包含一个/<a href="/home">链接</a>/gray:，分两段写不会识别错误。/
```

## 链接

Markdown 中的链接语法可选种类比较多，但也比较简单。

```markdown
1. [链接文字](/path/page.html) 
2. [链接文字](/path/page.html "提示文字")
3. [链接文字](http://www.qross.cn "新窗口打开")!
4. <http://www.qross.cn/oneapi/markdown>!
5. <wuguo@live.cn>
6. [链接文字][1]
7. [链接文字][2]
8. [链接文字][3]!
9. <a href="/path/page.htm">链接文字</a>
10. <a href="/path/page.htm" title="提示文字">链接文字</a>
11. <a href="/path/page.htm" title="新窗口打开" target="_blank">链接文字</a>

[1]:http://www.qross.cn
[2]:http://www.qross.cn "Qross 官网"
[3]:http://www.qross.cn "新窗口打开 Qross 官网"
```

上例语法分别说明如下：

1. 最常用链接语法。
2. 带鼠标提示文字的链接语法，注意提示文字使用双引号`"`或单引号`'`引起来。
3. 在新窗口打开的链接，只需要在链接语法后面加叹号`!`即可。注意这是 Marker 对 Markdown 语法的扩展。
4. 在新窗口打开的自动链接。自动链接要求是一个绝对地址或邮箱地址。
5. 自动邮箱链接，点击时打开邮件发送软件。
6. 以参考索引形式定义的链接，可以页面任何地方定义参考索引，例如上例的`[1]`、`[2]`、`[3]`都是参考索引。参考索引的定义必须单独占一行，且前面不能有空格。
7. 带提示文字的索引链接，提示文字在索引中定义。
8. 新窗口打开的索引链接，在末尾加叹号`!`即可。
9. HTML 语法的超级链接，效果同`1`。
10. HTML 语法的超级链接，效果同`2`。
11. HTML 语法的超级链接，效果同`3`。

## 图片

插入图片的语法基本和链接相同，只不过前面加一个叹号。

```markdown
1. ![替换文字](/path/pic.jpg)
2. ![网络位置](http://i.qross.cn/path/pic.png)
3. ![替换文字](/path/pic.jpg "提示文字")
4. ![替换文字][4]
5. <img src="/path/pic.jpg" alt="替换文字" title="提示文字" align="absmiddle" />

[4]:http://i.qross.cn/path/pic.png "提示文字"
```

语法分别说明如下：

1. 最常用的插入图片语法，使用站内图片。其中替换文字是图片路径错误或加载不出来时显示的文字。
2. 插入网络位置的图片。
3. 增加提示文字的图片。
4. 以参考索引方式引用图片。参考索引的定义必须单独占一行，且前面不能有空格。
5. HTML 语法的图片，当默认语法不能满足要求时可使用 HTML 来实现。

## 图片链接

虽然场景不多，但有时确实会用到。在图片上添加一个链接，Marker 的扩展语法如下：

```markdown
1. ![替换文字](/images/pic.png "图片上的提示文字")(/link/address.html)
2. ![替换文字](/images/pic.png)(/link/address.html "链接上的提示文字")!
3. ![替换文字][1][2]
4. ![替换文字][1][2]!
5. ![替换文字](/images/pic.png "图片上的提示文字")[2]
6. ![替换文字][1](/link/address.html)!
7. <a href="/link/address.html" target="_blank"><img src="/images/pic.png" alt="替换文字" title="提示文字" /></a>
```

其中：

1. 图片上有提示文字，在当前窗口打开链接。
2. 链接上有提示文字，结尾叹号`!`表示在新窗口打开链接。没有必要在图片上和链接上同时加提示文字。
3. 使用参考索引的图片链接。参考索引的定义必须单独占一行，且前面不能有空格。
4. 使用参考索引的图片链接。在新窗口打开。
5. 链接使用参考索引，而图片使用原格式。
6. 图片使用参考索引，而链接使用原格式。
7. HTML 格式的完整语法。

## 列表

无序列表，星号`*`、加号`+`和减号`-`都可以。

```markdown
* 列表项1
* 列表项2
* 列表项3
```

有序列表，使用数字加一个点。

```markdown
1. 列表项1
2. 列表项2
3. 列表项3
```

## 代码块

在 Markdown 中实现代码块有两种方式。第一种是方式是使用缩进，使用`4`个空格开始的行自动生成代码区块，但要求代码块开始行的上一行必须为空行，结束行的下一行也必须为空行。例如：

```markdown

    HELLO  WORLD!

```

不过这种方式不常用，没有彩色编码，可以理解为只是简单的把内容用`&lt;pre&gt;&lt;code&gt;`和`&lt;/code&gt;&lt;/pre&gt;`包围起来。第二种方式使用三个连续的反引号<code>`</code>包围。

```markdown
`` `javascript
window.alert('Hello, World!');
`` `
```

这种方式的优点是可以在第一组反引号之后写明代码的类型，这样转换时就会显示为彩色编码。要求第一组和第二组反引号都必须独立占一行，上例中第一组和第二组反引号之间不要写空格。当不指定代码类型时，效果同第一种方式。

## 表格

```markdowwn
| 表头 | 字段 |
| - | - |
| :- | -: |
| :-: | :-: |
| 单元格 | 内容 |
```

## 行间间隔

为了页面美观考虑，有时我们需要上下两行之间设置一定的间隔。

```markdown
--20--
-- 50 --
```

以`--`开始和结束，中间支持任意数字，单位是“像素”，空格是可选的。

## 行内间隔

在行内文字或组件之间，也可以使用间隔，一般用于组件之间或组件和文字之间。

```markdown
-| 20 |-
-|30|-
```

以`-|`开始并以`|-`结束，中间支持任意数字，单位是“像素”，空格可以有可以没有。

---
参考链接

* [Voyager 模板引擎](/voyager/overview.md)
* [Marker 类](/voyager/marker.md)
* [颜色编码表](/blog/colors.md)